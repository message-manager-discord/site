import Video from "../../components/Video";
import Hint from "../../components/Hint";
import InlineCode from "../../components/mdx/inlineCode";

# Message Management

Message management allows multiple members to fetch, send, edit, and delete messages through the bot account. You can consider the bot as a "proxy" that manages your messages.  
Here's give a quick rundown of each feature, and how to use them.

## Fetching

Bot permissions required: <InlineCode>@everyone</InlineCode>

Fetching a message will return the raw message in a text file. This is useful as what you can copy from discord is often not the raw message (with emojis, mentions, etc), and you can end up with a mismatch.
It does not send a log.

Fetching is a context menu, or message command.  
To use it, right click on a message, open the "Apps" section, and click "Fetch".

<Hint type="warn">
  Mobile support for this command is pending discord's release of context menus
  on mobile. The displayed example is using a discord pre-release.
</Hint>

<Video
  src="/video/docs/message-management/fetch-{theme}-{platform}"
  mobileSrc={true}
  webm={false}
/>

## Sending

Bot permissions required: <InlineCode>SEND_MESSAGES</InlineCode>

This will send a message through the bot account, to a channel specified. The message will be editable by anyone with the <InlineCode>EDIT_MESSAGES</InlineCode> bot permission.

Use the <InlineCode>/send</InlineCode> command in any channel to do this.

<Hint type="warn">This command will not work on outdated mobile devices!</Hint>
<Hint type="info">
  Set the <InlineCode>content-only</InlineCode> option to{" "}
  <InlineCode>true</InlineCode> to only send content - and not an embed. See the
  edit section for an example of the flow for embeds - it's the same for edit
  just prefilled.
</Hint>

<Video
  src="/video/docs/message-management/send-{theme}-{platform}"
  mobileSrc={true}
  webm={false}
/>

## Message Actions

For messages sent by the bot, there are a number of actions avalible to act on that message.
They are, editing, deleting, and reporting and are accessed through the "Actions" context menu.
The response will only show actions you have permissions to do.

<Hint type="warn">
  Mobile support for the action command is pending discord's release of context
  menus on mobile. The displayed examples are using a discord pre-release. For
  compatibility, for now, there is an `/actions` slash command that takes a
  message id.
</Hint>

### Editing

Bot permissions required: <InlineCode>EDIT_MESSAGES</InlineCode>

This will edit a message previously sent through the bot.

<Hint type="info">
  Also shown here is embed editing, this involves a button and modal flow to set
  all embed propreties. Existing embeds can also be removed by removing all
  propreties (setting to empty).
</Hint>

<Video
  src="/video/docs/message-management/edit-{theme}-{platform}"
  mobileSrc={true}
  webm={false}
/>

### Deleting

Bot permissions required: <InlineCode>DELETE_MESSAGES</InlineCode>

This will delete a message previously sent through the bot.

<Hint type="warn">This action is permanent, and cannot be undone!</Hint>

<Video
  src="/video/docs/message-management/delete-{theme}-{platform}"
  mobileSrc={true}
  webm={false}
/>

### Reporting

Bot permissions required: <InlineCode>@everyone</InlineCode>

Reporting is currently in developement, when it is finished it will provide a way
for any user to report a message to the developers, if they think it breaks our terms of service.
